javascript:
  $(function() {

    var reload_timer = 60000*5;
    
    var reload_countdown_width = 100;

    var counter_timeout = reload_timer / reload_countdown_width;
    console.log(counter_timeout);
    setInterval(function() {
      reload_countdown_width = reload_countdown_width -1;
      $('.reload-countdown').css('width', reload_countdown_width + "%")
    }, counter_timeout);
    
    
    (function() {
      $.get('/user_locations').done(function(data){
        $('.user-locations').html(data);
      });
    })();

    (function() {
      $.get('/travis').done(function(data){$('.travis').html(data); });
    })();

    (function() {
      $.get('/visualize/totals_today').done(function(data){$('.totals').html(data); });
    })();
  
    setInterval(function() { window.location.reload() }, reload_timer);
  });
.reload-countdown
.home
  .inline
    .user-locations.container
      | Loading...

    .inline.container.orders = render partial: 'orders'
    .inline.container.sales = render partial: 'sales'
  .inline
    .travis.container
      | Loading...
    .deployments.container
      - vis = Visualization.find_by_slug('deployments')
      = render inline: vis.markup, type: vis.markup_type
  
  .totals.container.centered

